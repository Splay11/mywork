<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<title>修改-讲座设备 </title>
<meta name="description" content="Dashmix - Bootstrap 4 Admin Template &amp; UI Framework created by pixelcave and published on Themeforest">
<meta name="author" content="pixelcave">
<meta name="robots" content="noindex, nofollow">
<meta property="og:title" content="Dashmix - Bootstrap 4 Admin Template &amp; UI Framework">
<meta property="og:site_name" content="Dashmix">
<meta property="og:description" content="Dashmix - Bootstrap 4 Admin Template &amp; UI Framework created by pixelcave and published on Themeforest">
<meta property="og:type" content="website">
<meta property="og:url" content="">
<meta property="og:image" content="">

<link rel="stylesheet" href="../../../static/admin/css/css2.css">
<link rel="stylesheet" id="css-main" href="../../../static/admin/css/dashmix.min.css">

<style>
.bodyClass::-webkit-scrollbar {
display: none; /* Chrome Safari */
}
.bodyClass {
scrollbar-width: none; /* firefox */
-ms-overflow-style: none; /* IE 10+ */
overflow-x: hidden;
overflow-y: auto;
}

.dz-image>img{
width:120px;
height:120px;
}
</style>
</head>
<body class="bodyClass">

<div id="app">
	<div id="page-container" class="sidebar-dark enable-page-overlay side-scroll page-header-fixed main-content-narrow">
		<main id="main-container">
			<div class="content">
				<div class="block block-rounded">
					<div class="block-header block-header-default">
						<h3 class="block-title">修改-讲座设备 </h3>
					</div>
					<div class="block-content block-content-full">
						<div>
							<div class="row">
								<div class="col-lg-8 col-xl-5">
									<div class="form-group" id="serviceNaeParentContent">
										<label>设备名<span style="color:red">(*必填)</span></label>
										<input type="text" :value="data.serviceNae"  placeholder="请输入设备名" id="serviceNae" class="form-control">
									</div>
									<div class="form-group" id="serviceStatusParentContent">
										<label>设备状态<span style="color:red">(*必填)</span></label>
										<select id="serviceStatus"  class="form-control">
											<template v-for="item in serviceStatusList">
												<option v-if="item.id==data.serviceStatus" :value="item.id" selected>{{item.name}}</option>
												<option v-if="item.id!=data.serviceStatus" :value="item.id">{{item.name}}</option>
											</template>
										</select>
									</div>
									<div class="form-group">
										<button type="button" onclick="submitData();" class="btn btn-primary">提交</button>
										<button type="button"   onclick="javascript:history.back(-1);" class="btn btn-light">返回</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
	</div>
</div>
<script type="text/javascript" src="../../../static/common/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../../../static/vue.js"></script>
<script type="text/javascript" src="../../../static/config.js"></script>
<script src="../../../static/admin/js/dashmix.core.min.js"></script>
<script src="../../../static/admin/js/dashmix.app.min.js"></script>
<script src="../../../static/admin/js/Chart.bundle.min.js"></script>
<script src="../../../static/admin/js/be_pages_dashboard.min.js"></script>
<script type="text/javascript" src="../../../static/common/utils/listutils.js?v=2388"></script>

<script>
var  vm=new Vue({
	el : '#app',
	data:{
		loginToken:currentLogin.loginToken,
		requestUri:uri,
		loginName:'',
		roleName:'',
		loginId:'',
		loginType:'',
		data:{
			"roomId":'',
		},
		dataList:[],
		serviceStatusList:[],
	},
	created(){
		this.init();
	},
	methods:{
		init(){
			this.getInitData();
		},
		getInitData(){
			$.ajax({
				dataType:"json",
				type:"post",
				url:uri+"/manage/service_msg/update1",
				data:{
					'roomId': (httpData['roomId']==undefined?'':httpData['roomId']),
					'id': (httpData['id']==undefined?'':httpData['id']),
					"loginToken":currentLogin.loginToken
				},
				success:function (data) {
					if(data.code!=undefined&&data.code==0){
						alert(data.msg);
						return;
					}
					vm.$data.serviceStatusList= data.serviceStatusList;
					vm.$data.data= data.data;
					vm.$nextTick(function () {
					})
				}
			})
		},
	}
});
vm.$data.loginName = currentLogin.loginName;
vm.$data.roleName = currentLogin.roleName;
vm.$data.loginId = currentLogin.loginId;
vm.$data.loginType = currentLogin.loginType;
vm.$data.data.roomId = (httpData['roomId']==undefined?'':httpData['roomId']);
function submitData(){
	var serviceNae= $('#serviceNae').val();
	var serviceStatus= $('#serviceStatus').val();
	$.ajax({
		type: 'post',
		url: uri+'/manage/service_msg/update1_submit',
		data:{
			"loginToken":currentLogin.loginToken,
			"id":vm.$data.data.id,
			"roomId":vm.$data.data.roomId,
			"serviceNae":serviceNae,
			"serviceStatus":serviceStatus
		},
		success: function(result) {
			if(result.code == 0){
				alert(result.msg);
				}else{
				alert(result.msg);
				window.location.href="../../../html/manage/service_msg/list.html?roomId="+vm.$data.data.roomId+"";
			}
		}
	});
}

</script>

</body>
</html>

